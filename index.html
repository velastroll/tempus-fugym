<html> 
    <head> 
        
        <!-- Codificacion -->
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="./style.css">  
        
        <title>Tempus Fugym </title> 
        
        <script language="JavaScript"> 

            function cuentaAtras(){
                segundil = parseInt(document.getElementById('relojico').innerHTML)
                document.body.style.backgroundColor = 'green';
                document.getElementById('p1').innerHTML = '¡Dale caña!';
                if (segundil == 0){
                    document.body.style.backgroundColor = 'red'; 
                    document.getElementById('p1').innerHTML = '¡SE ACABÓ!';
                    document.getElementById('relojico').innerHTML = 6;
                    setTimeout("pausa()", 1000);

                } else {
                    segundil = segundil - 1;
                    document.getElementById('relojico').innerHTML = segundil;
                    setTimeout("cuentaAtras()", 1000);
                }
            }

            function pausa(){
                segundicos = parseInt(document.getElementById('relojico').innerHTML)
                if (0 == segundicos){
                    document.getElementById('relojico').innerHTML = ':D';
                    document.getElementById('p1').innerHTML = 'Descansa';
                    document.body.style.backgroundColor = 'white'; 
                    
                } else if (0 == segundicos%2) {
                    document.body.style.backgroundColor = 'white'; 
                    document.getElementById('relojico').innerHTML = segundicos - 1;
                    setTimeout("pausa()", 1000);
                } else {
                    document.body.style.backgroundColor = 'red'; 
                    document.getElementById('relojico').innerHTML = segundicos - 1;
                    setTimeout("pausa()", 1000);
                }

            }


            function mueveReloj(){ 
                momentoActual = new Date() 
                hora = momentoActual.getHours() 
                minuto = momentoActual.getMinutes() 
                segundo = momentoActual.getSeconds() 

                str_segundo = new String (segundo) 
                if (str_segundo.length == 1) 
                    segundo = "0" + segundo 

                str_minuto = new String (minuto) 
                if (str_minuto.length == 1) 
                    minuto = "0" + minuto 

                str_hora = new String (hora) 
                if (str_hora.length == 1) 
                    hora = "0" + hora 

                horaImprimible = hora + " : " + minuto + " : " + segundo 
                document.getElementById('relojico').innerHTML = horaImprimible
                setTimeout("mueveReloj()",1000) 
            } 
        </script> 
    </head> 

    <body class="back clock" > 
        <p id="relojico">3</p>
        <p id="p1">Hola Cybernauta!</p>
        <button type="button" onclick="cuentaAtras()"> Pulsame! </button>
    </body> 
</html>